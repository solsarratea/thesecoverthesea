(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(42).concat([function(e,t,n){e.exports=n(136)},,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},,,,,,,function(e,t,n){},,function(e,t,n){var a={"./Memb-I-00131_0001.jpg":86,"./Memb-I-00131_0002.jpg":87,"./Memb-I-00131_0003.jpg":88,"./Memb-I-00131_0004.jpg":89,"./Memb-I-00131_0005.jpg":90,"./Memb-I-00131_0006.jpg":91,"./Memb-I-00131_0007.jpg":92,"./Memb-I-00131_0008.jpg":93,"./Memb-I-00131_0009.jpg":94,"./Memb-I-00131_0010.jpg":95,"./Memb-I-00131_0011.jpg":96,"./Memb-I-00131_0012.jpg":97,"./Memb-I-00131_0013.jpg":98,"./Memb-I-00131_0014.jpg":99,"./Memb-I-00131_0015.jpg":100,"./Memb-I-00131_0016.jpg":101,"./Memb-I-00131_0017.jpg":102,"./Memb-I-00131_0018.jpg":103,"./Memb-I-00131_0019.jpg":104,"./Memb-I-00131_0020.jpg":105,"./Memb-I-00131_0021.jpg":106,"./Memb-I-00131_0022.jpg":107,"./Memb-I-00131_0023.jpg":108,"./Memb-I-00131_0025.jpg":109,"./Memb-I-00131_0026.jpg":110,"./Memb-I-00131_0027.jpg":111,"./Memb-I-00131_0028.jpg":112,"./Memb-I-00131_0029.jpg":113,"./Memb-I-00131_0030.jpg":114,"./Memb-I-00131_0031.jpg":115,"./Memb-I-00131_0032.jpg":116,"./Memb-I-00131_0033.jpg":117,"./Memb-I-00131_0034.jpg":118,"./Memb-I-00131_0035.jpg":119,"./Memb-I-00131_0036.jpg":120,"./Memb-I-00131_0037.jpg":121,"./Memb-I-00131_0038.jpg":122,"./Memb-I-00131_0039.jpg":123,"./Memb-I-00131_0040.jpg":124,"./Memb-I-00131_0041.jpg":125,"./Memb-I-00131_0042.jpg":126,"./Memb-I-00131_0043.jpg":127,"./Memb-I-00131_0044.jpg":128,"./Memb-I-00131_0045.jpg":129,"./Memb-I-00131_0046.jpg":130,"./Memb-I-00131_0047.jpg":131};function o(e){var t=r(e);return n(t)}function r(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}o.keys=function(){return Object.keys(a)},o.resolve=r,e.exports=o,o.id=85},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0001.e0d25939.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0002.7f42112d.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0003.dc64281a.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0004.a05c9dfe.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0005.3af91827.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0006.0f7e1547.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0007.c0b045b2.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0008.5c233569.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0009.3f4bda50.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0010.c47e0c49.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0011.670f7378.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0012.5d0e1907.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0013.bfd194e1.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0014.ca7c6714.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0015.6410960c.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0016.ce481f4f.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0017.f3205de4.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0018.b8a9e50a.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0019.22f8fc04.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0020.029ad2b3.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0021.a457e1d1.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0022.33abd95a.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0023.963cb641.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0025.51918eb0.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0026.dd1cba02.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0027.1bed5834.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0028.ec970aec.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0029.a8cfd5ea.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0030.5f8d21a5.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0031.340484fb.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0032.0228c6c8.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0033.557d4e8a.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0034.4f6875ec.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0035.ca7dd7a8.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0036.ea9ccb0e.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0037.86e0be5a.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0038.83da0cf8.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0039.088099d5.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0040.8d7972b1.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0041.61f6750c.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0042.9662633b.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0043.48462ae2.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0044.285fe389.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0045.a84bcc76.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0046.b6b4307b.jpg"},function(e,t,n){e.exports=n.p+"static/media/Memb-I-00131_0047.672cbc73.jpg"},function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(24),c=n.n(r),l=(n(50),n(11)),i=n(10),s=n(12),u=n(33),m=(n(52),function(e){var t=Object(a.useRef)(null),n=e.value,r=e.callback;return Object(a.useEffect)(function(){var e=t.current;if(e){var n=function(e){var t=e,n=Math.round(t.detail.value);r(n/100)};return e.addEventListener("change",n),function(){e.removeEventListener("change",n)}}},[t]),o.a.createElement("toolcool-range-slider",{value:n,ref:t})}),d=n(19),f=n.n(d),b=f()(function(e){return{selected:{path:"",idx:1},loaded:!1,setLoaded:function(){return e(function(e){return e.loaded?e:Object(i.a)({},e,{loaded:!0})})},setSelectedPath:function(t,n){return e(function(e){return{selected:{path:t,idx:n}}})}}}),p=f()(function(e){return{shaderInfo:{color:{r:154,g:221,b:120,a:.5},deltaColor:.3,deltaSmooth:.2},setColor:function(t){return e(function(e){return Object(i.a)({},e,{shaderInfo:Object(i.a)({},e.shaderInfo,{color:t})})})},setDeltaColor:function(t){return e(function(e){return Object(i.a)({},e,{shaderInfo:Object(i.a)({},e.shaderInfo,{deltaColor:t})})})},setDeltaSmooth:function(t){return e(function(e){return Object(i.a)({},e,{shaderInfo:Object(i.a)({},e.shaderInfo,{deltaSmooth:t})})})}}}),g=n(14),h=f()(function(e){return{light:!0,resetCam:!1,takeScreenshot:!1,downloadJSON:!1,layers:[],nextId:0,selectedId:null,show:!0,orbitControls:!1,setId:function(t){return e(function(e){return Object(i.a)({},e,{selectedId:t})})},addLayer:function(t){return e(function(e){var n=t.color,a=Object(g.a)(t,["color"]);return e.layers.push(Object(i.a)({},a,{colorIn:n,colorOut:n,id:e.nextId,pivotControls:!0})),Object(i.a)({},e,{nextId:e.nextId+1,selectedId:e.nextId})})},removeLayer:function(t){return e(function(e){var n=e.layers.findIndex(function(e){return e.id===t});return e.layers.splice(n,1),Object(i.a)({},e,{selectedId:null})})},setNewColor:function(t,n){return e(function(e){var a=e.layers.findIndex(function(e){return e.id===t});return e.layers[a].colorOut=n,Object(i.a)({},e)})},setPivotControls:function(t){return e(function(e){var n=e.layers.findIndex(function(e){return e.id===t}),a=e.layers[n].pivotControls;return e.layers[n].pivotControls=!a,Object(i.a)({},e)})},setMix:function(t){return e(function(e){var n=e.selectedId;if(null===n)return e;var a=e.layers.findIndex(function(e){return e.id===n});return e.layers[a].mix=t,Object(i.a)({},e)})},setBoolean:function(t,n){return e(function(e){return Object(i.a)({},e,Object(s.a)({},t,n))})},allPivotControls:function(t){return e(function(e){var n=e.layers.map(function(e){return Object(i.a)({},e,{pivotControls:t})});return Object(i.a)({},e,{layers:n})})}}});n(74);function E(e){var t=e.size,n=Object(a.useState)(!0),r=Object(l.a)(n,2),c=r[0],d=r[1],f=Object(a.useState)({welcome:!0,instructions:!1,editMask:!1,editLayer:!1,data:!1}),g=Object(l.a)(f,2),E=g[0],v=g[1],j=function(e,t){v(Object(s.a)({welcome:!1,instructions:!1,editMask:!1,editLayer:!1,data:!1},e,t))},M=E.editMask,x=E.editLayer,I=E.instructions,y=E.welcome,w=E.data,_=p(function(e){return e.shaderInfo}),k=p(function(e){return e.setColor}),C=p(function(e){return e.setDeltaColor}),O=p(function(e){return e.setDeltaSmooth}),N=h(function(e){return e.addLayer}),S=h(function(e){return e.removeLayer}),D=h(function(e){return e.selectedId}),P=h(function(e){return e.setNewColor}),B=h(function(e){return e.setPivotControls}),L=h(function(e){return e.setMix}),F=h(function(e){return e}),z=Object(a.useRef)();Object(a.useEffect)(function(){var e=z.current;if(e){var t=e,n=Array.from(t.options).find(function(e){return e.outerText==D});n&&(n.selected=!0)}},[z,D]),Object(a.useEffect)(function(){var e=z.current;if(e){var t=e;t.addEventListener("change",function(){F.setId(Number(t.value))})}},[z.current]);var T=h(function(e){var t=null;if(null!==D){var n=e.layers.findIndex(function(e){return e.id===D});-1!==n&&(t=e.layers[n])}return t}),U=b(function(e){return e.selected.path});return o.a.createElement("div",Object.assign({},e,{id:"controls",style:{bottom:t.top,left:t.left,width:t.width,height:t.height}}),o.a.createElement("section",{className:"header"},o.a.createElement("h2",null,"\u2229\uff40-\xb4)\u2283\u2501\u2606\uff9f.*\uff65\uff61\uff9f"),o.a.createElement("button",{className:"emoji",onClick:function(){var e=document.querySelector(":root"),t=!c;F.setBoolean("light",t),e&&(t?(e.style.setProperty("--background","#f8f8f1"),e.style.setProperty("--font-color","black")):(e.style.setProperty("--background","black"),e.style.setProperty("--font-color","#f8f8f1"))),d(t)}},"\ud83d\udca1")),o.a.createElement("hr",null),o.a.createElement("section",{className:"selector"},o.a.createElement("button",{className:y?"selected":"",onClick:function(){j("welcome",!y),F.setBoolean("show",!0)}},"welcome"),o.a.createElement("hr",null),o.a.createElement("button",{className:I?"selected":"",onClick:function(){j("instrusctions",!I),F.setBoolean("show",!1)}},"?"),o.a.createElement("hr",null),o.a.createElement("button",{className:M?"selected":"",onClick:function(){j("editMask",!M),F.setBoolean("show",!0)}},"mask"),o.a.createElement("hr",null),o.a.createElement("button",{className:x?"selected":"",onClick:function(){j("editLayer",!x),F.setBoolean("show",!0)}},"layer"),o.a.createElement("hr",null),o.a.createElement("button",{className:w?"selected":"",onClick:function(){j("data",!w),F.setBoolean("show",!0)}},"data")),o.a.createElement("section",{className:"body",style:{height:.9*t.height}},y?o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{className:"text scroll"},o.a.createElement("p",null,"This is a 3D chromatic layer editor from the sketches of Georg Forsters."),o.a.createElement("p",null,"It is part of the project ",o.a.createElement("a",{href:"https://www.hackdash.org/projects/634ab7a16d202d739f69ce81"},"THESECOVER THE SEA")," developed during the hackathon ",o.a.createElement("a",{href:"https://creating-new-dimensions.org/"},"Creating New Dimensions"))),o.a.createElement("section",{className:"text scroll"},o.a.createElement("p",null,"Design a postcard from  the images of dataset ",o.a.createElement("a",{href:"https://creating-new-dimensions.org/Georg-Forsters-Entdeckung-der-Suedsee/"},"Georg-Forsters-Entdeckung-der-Suedsee"),", by composing chromatic layers."),o.a.createElement("img",{src:"./icono.png"}),o.a.createElement("p",null,"POST your postcard to  ",o.a.createElement("a",{href:"https://thesecoverthesea.solsarratea.world/"}," \u2193  the sea")),o.a.createElement("p",{className:"wip"},"AND print it !"))):null,M?o.a.createElement("section",{id:"mask",className:"scroll"},o.a.createElement("section",{className:"rgb-layout"},o.a.createElement("p",null,"\u2193 selection: "),o.a.createElement(u.a,{color:_.color,onChange:function(e){return k(e)}})),o.a.createElement("section",{className:"slider"},o.a.createElement("p",null,"\u2193 threshold: "),o.a.createElement(m,{value:"".concat(100*_.deltaColor),callback:function(e){return C(e)}})),o.a.createElement("section",{className:"slider"},o.a.createElement("p",null,"\u2193 smootheness: "),o.a.createElement(m,{value:"".concat(100*_.deltaSmooth),callback:function(e){return O(e)}}))):null,x?o.a.createElement("section",{id:"layerc",className:"scroll"},o.a.createElement("section",{className:"current"},o.a.createElement("p",null,"selected layer: ".concat(D)),o.a.createElement("select",{ref:z,name:"layer-id",id:"select-layer-id"},F.layers.map(function(e){return o.a.createElement("option",{key:"".concat(e.id,"-option"),value:"".concat(e.id)},"".concat(e.id))}))),o.a.createElement("hr",null),o.a.createElement("section",{className:"rgb-layout"},o.a.createElement("p",null,"\u2193 color for output "),o.a.createElement(u.a,{color:_.color,onChange:function(e){null!==D&&P(D,e)}})),o.a.createElement("section",{className:"slider"},o.a.createElement("p",null,"\u2193 mix color with original source: "),o.a.createElement(m,{value:T?"".concat(100*T.mix):"80",callback:function(e){return L(e)}})),o.a.createElement("hr",null),o.a.createElement("section",{className:"generator"},o.a.createElement("p",null,"\u2193 layer from mask "),o.a.createElement("button",{className:"button",onClick:function(){N(Object(i.a)({},_,{path:U}))}},"+"),o.a.createElement("button",{className:"button ".concat(null!==T&&T.pivotControls?"selected":""),onClick:function(){null!==D&&B(D)}},o.a.createElement("img",{className:"icon ".concat(c?"":"inverted"),src:"icons/axis.jpeg"})),o.a.createElement("button",{className:"button",onClick:function(){null!==D&&S(D)}},"-")),o.a.createElement("hr",null),o.a.createElement("section",{className:"world-view"},o.a.createElement("p",null,"\u2193 world view camera"),o.a.createElement("button",{className:"button ".concat(F.orbitControls?"":"selected"),onClick:function(){return F.setBoolean("orbitControls",!F.orbitControls)}},"2D"),o.a.createElement("button",{className:"button ".concat(F.orbitControls?"selected":""),onClick:function(){return F.setBoolean("orbitControls",!F.orbitControls)}},"3D"),o.a.createElement("button",{className:"button",onClick:function(){return F.setBoolean("resetCam",!0)}},"R")),o.a.createElement("hr",null),o.a.createElement("section",null,o.a.createElement("p",{className:"padding-left"},"\u2193 ",o.a.createElement("b",null,"show")," | ",o.a.createElement("b",null,"hide")," all controls on layers"),o.a.createElement("button",{className:"button ascii",onClick:function(){return F.allPivotControls(!0)}},"(\uff65\u03c9\uff65)"),o.a.createElement("button",{className:"button ascii",onClick:function(){return F.allPivotControls(!1)}},"\u2534\u2524\u03c9\uff65)"))):null,w?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("p",{className:"padding-left"}," \u2193 download & post it ")),o.a.createElement("hr",null),o.a.createElement("div",{className:"selector"},o.a.createElement("button",{className:"",onClick:function(){return F.setBoolean("downloadJSON",!0)}},"json"),o.a.createElement("hr",null),o.a.createElement("button",{className:"",onClick:function(){return F.setBoolean("takeScreenshot",!0)}},"image"),o.a.createElement("hr",null),o.a.createElement("button",{className:""},"all"),o.a.createElement("hr",null),o.a.createElement("button",{className:""},"\u30c4"))):null))}var v=n(15),j=n(137),M=n(140),x=(n(76),n(3)),I=n(21);function y(e){var t=e.paths,n=e.height,r=e.onLoaded,c=e.onSelected,i=e.width,s=Object(a.useRef)(null),u=Object(a.useState)(3),m=Object(l.a)(u,2),d=m[0],f=m[1],b=Object(a.useState)(t.length),p=Object(l.a)(b,1)[0];return Object(a.useEffect)(function(){s.current&&r()},[s]),Object(a.useEffect)(function(){c(t[d],d)},[d]),o.a.createElement(v.a,{camera:{position:new x.Vector3(0,0,8),aspect:i/n}},o.a.createElement(I.a,{scale:2,transform:!0,occlude:!0,"position-y":-.5},o.a.createElement("div",{ref:s,id:"container"},o.a.createElement("button",{className:"button",onClick:function(){f(0===d?p-1:d-1)}},"<"),t.map(function(e,t){return o.a.createElement("img",{key:"".concat(t,"-img"),height:.9*n,width:.9*n,style:t===d?{}:{display:"none"},src:e,id:"".concat(t)})}),o.a.createElement("button",{className:"button",onClick:function(){return f((d+1)%p)}},">"))),o.a.createElement(M.a,{enableRotate:!1}))}var w=function(e,t,n,a){return{uniforms:{uColor:{value:new x.Vector4(t.r/255,t.g/255,t.b/255,t.a/255)},uSource:{value:e},uDc:{value:n},uDs:{value:a}},vertexShader:"\n    precision mediump float;\n    varying vec2 vUv;\n\n    void main() {\n        vec4 mvPosition = modelViewMatrix * vec4(position, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vUv = uv;\n    }\n  ",fragmentShader:"\n    varying vec2 vUv;\n    uniform vec4 uColor;\n    uniform sampler2D uSource;\n    uniform float uDc;\n    uniform float uDs;\n    ".concat("\nvec3 hsl2rgb( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n    return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));\n}\n\n\nvec3 rgb2hsl( in vec3 c ){\n  float h = 0.0;\n\tfloat s = 0.0;\n\tfloat l = 0.0;\n\tfloat r = c.r;\n\tfloat g = c.g;\n\tfloat b = c.b;\n\tfloat cMin = min( r, min( g, b ) );\n\tfloat cMax = max( r, max( g, b ) );\n\n\tl = ( cMax + cMin ) / 2.0;\n\tif ( cMax > cMin ) {\n\t\tfloat cDelta = cMax - cMin;\n        \n        //s = l < .05 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) ); Original\n\t\ts = l < .0 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) );\n        \n\t\tif ( r == cMax ) {\n\t\t\th = ( g - b ) / cDelta;\n\t\t} else if ( g == cMax ) {\n\t\t\th = 2.0 + ( b - r ) / cDelta;\n\t\t} else {\n\t\t\th = 4.0 + ( r - g ) / cDelta;\n\t\t}\n\n\t\tif ( h < 0.0) {\n\t\t\th += 6.0;\n\t\t}\n\t\th = h / 6.0;\n\t}\n\treturn vec3( h, s, l );\n}\n","\n    void main() {\n      vec2 uv = vUv; vec3 color;\n      vec3 tex = texture2D(uSource, vUv).rgb;\n\n      //Make colors more vivid\n      tex.rgb = rgb2hsl(tex.rgb);\n      tex.b = pow( tex.b,.6);\n      tex.g = pow( tex.g,.6);\n      tex.rgb = hsl2rgb(tex.rgb);\n\n      float dc = uDc;\n      float mask = smoothstep(dc, dc+uDs*0.5,length(tex.rgb-uColor.rgb));\n      color.rgb = mix(vec3(1.,0.,0.),tex.rgb, mask);\n\n      gl_FragColor = vec4(color, 1.);\n    }\n  ")}};n(83);function _(e){var t=e.path,n=e.color,a=e.deltaColor,r=e.deltaSmooth,c=Object(j.a)(t);return o.a.createElement("mesh",null,o.a.createElement("planeGeometry",{attach:"geometry",args:[5*c.source.data.naturalWidth/c.source.data.naturalHeight,5]}),o.a.createElement("shaderMaterial",{attach:"material",args:[w(c,n,a,r)],side:x.DoubleSide,needsUpdate:!0}))}var k=n(85).keys().map(function(e){return e.replace("./","images/")});function C(e){var t=e.size,n=b(function(e){return e.selected.path}),r=p(function(e){return e.shaderInfo}),c=b(function(e){return e.setLoaded}),l=b(function(e){return e.setSelectedPath});return o.a.createElement("div",Object.assign({},e,{style:{bottom:t.top,left:t.left,width:t.width,height:t.height,padding:"0 0em"}}),o.a.createElement("div",{id:"mask-layout"},o.a.createElement("section",{id:"gallery"},o.a.createElement(y,{height:.25*t.height,width:t.width,paths:k,onLoaded:c,onSelected:l})),o.a.createElement("section",{id:"three-canvas"},o.a.createElement(v.a,{camera:{aspect:t.width/t.height}},o.a.createElement(a.Suspense,null,n?o.a.createElement(_,Object.assign({},r,{path:n})):null),o.a.createElement(M.a,null)))))}var O=function(e){var t=e.texture,n=e.colorIn,a=e.colorOut,o=e.deltaColor,r=e.deltaSmooth,c=e.mix;return{uniforms:{uColor:{value:new x.Vector4(n.r/255,n.g/255,n.b/255,n.a/255)},uColorOut:{value:new x.Vector4(a.r/255,a.g/255,a.b/255,a.a/255)},uSource:{value:t},uDc:{value:o},uDs:{value:r},uMix:{value:c}},vertexShader:"\n    precision mediump float;\n    varying vec2 vUv;\n\n    void main() {\n        vec4 mvPosition = modelViewMatrix * vec4(position, 1.);\n        gl_Position = projectionMatrix * mvPosition;\n        vUv = uv;\n    }\n  ",fragmentShader:"\n    varying vec2 vUv;\n    uniform vec4 uColor;\n    uniform vec4 uColorOut;\n    uniform sampler2D uSource;\n    uniform float uDc;\n    uniform float uDs;\n    uniform float uMix;\n\n    ".concat("\nfloat luma(vec3 color) { return dot(color, vec3(0.299, 0.587, 0.114)); }\n\nvec3 hsl2rgb( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n    return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));\n}\n\n\nvec3 rgb2hsl( in vec3 c ){\n  float h = 0.0;\n\tfloat s = 0.0;\n\tfloat l = 0.0;\n\tfloat r = c.r;\n\tfloat g = c.g;\n\tfloat b = c.b;\n\tfloat cMin = min( r, min( g, b ) );\n\tfloat cMax = max( r, max( g, b ) );\n\n\tl = ( cMax + cMin ) / 2.0;\n\tif ( cMax > cMin ) {\n\t\tfloat cDelta = cMax - cMin;\n        \n        //s = l < .05 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) ); Original\n\t\ts = l < .0 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) );\n        \n\t\tif ( r == cMax ) {\n\t\t\th = ( g - b ) / cDelta;\n\t\t} else if ( g == cMax ) {\n\t\t\th = 2.0 + ( b - r ) / cDelta;\n\t\t} else {\n\t\t\th = 4.0 + ( r - g ) / cDelta;\n\t\t}\n\n\t\tif ( h < 0.0) {\n\t\t\th += 6.0;\n\t\t}\n\t\th = h / 6.0;\n\t}\n\treturn vec3( h, s, l );\n}\n","\n    void main() {\n      vec2 uv = vUv; vec3 color;\n      vec3 tex = texture2D(uSource, vUv).rgb;\n\n      //Make colors more vivid\n      tex.rgb = rgb2hsl(tex.rgb);\n      tex.b = pow( tex.b,.6);\n      tex.g = pow( tex.g,.6);\n      tex.rgb = hsl2rgb(tex.rgb);\n\n      float dc = uDc;\n      float mask = smoothstep(dc, dc+uDs*0.5,length(tex.rgb-uColor.rgb));\n      color.rgb = mix(mix(uColorOut.rgb,tex.rgb, uMix), vec3(0.), mask);\n\n      gl_FragColor = vec4(color, 1.-mask);\n    }\n  ")}},N=n(1),S=n(139);n(132);function D(e){var t=e.colorIn,n=e.colorOut,r=e.deltaColor,c=e.deltaSmooth,l=e.id,i=e.mix,s=e.path,u=e.pivotControls,m=Object(j.a)(s),d=h(function(e){return e.setId});h(function(e){return e.layers});return o.a.createElement(a.Suspense,null,o.a.createElement(S.a,{visible:u,rotation:[0,0,0],anchor:[0,0,0],scale:75,depthTest:!1,fixed:!0,lineWidth:2},o.a.createElement("mesh",{name:"layer-".concat(e.id),position:new x.Vector3(0,0,.2*-l),onClick:function(){d(l)}},o.a.createElement("planeGeometry",{attach:"geometry",args:[4*m.source.data.naturalWidth/m.source.data.naturalHeight,4]}),o.a.createElement("shaderMaterial",{transparent:!0,attach:"material",args:[O({texture:m,colorIn:t,colorOut:n,deltaColor:r,deltaSmooth:c,mix:i})],side:x.DoubleSide}))))}function P(e,t,n){var a=document.getElementById(n);if(a){var o=a;o.download=t,o.href=e,document.body.appendChild(o),o.click()}}function B(){var e=Object(N.k)().scene,t=h(function(e){return e.downloadJSON}),n=h(function(e){return e.setBoolean}),r=h(function(e){return e});return Object(a.useEffect)(function(){if(t){var a={layersData:r.layers.map(function(t){var n=t.id,a=e.getObjectByName("layer-".concat(n));return Object(i.a)({},t,{position:a.position,rotation:a.rotation})}),lightMode:r.light};P("data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a)),"postcard-data.json","download-json"),n("downloadJSON",!1)}},[t]),o.a.createElement(o.a.Fragment,null)}function L(){var e=Object(N.k)(),t=e.gl,n=e.scene,r=e.camera,c=h(function(e){return e.takeScreenshot}),l=h(function(e){return e.setBoolean});return Object(a.useEffect)(function(){c&&(t.render(n,r),P(t.domElement.toDataURL(),"postcard-view.png","download-image"),l("takeScreenshot",!1))},[c]),o.a.createElement(o.a.Fragment,null)}function F(){var e=Object(N.k)().camera,t=h(function(e){return e.resetCam}),n=h(function(e){return e.setBoolean});return Object(a.useEffect)(function(){e.position.set(0,0,4),n("resetCam",!1)},[t]),o.a.createElement(o.a.Fragment,null)}function z(e){var t=e.size,n=h(function(e){return e});return o.a.createElement("div",Object.assign({},e,{style:{bottom:t.top,left:t.left,width:t.width,height:t.height}}),o.a.createElement("section",{id:"layers-layout"},o.a.createElement("section",{id:"three-canvas"},o.a.createElement(v.a,{shadows:!0,raycaster:{params:{Line:{threshold:.03}}},gl:{preserveDrawingBuffer:!0},camera:{position:new x.Vector3(0,0,4),aspect:t.width/t.height}},o.a.createElement("group",{name:"group-layers"},n.layers.map(function(e){return o.a.createElement(D,Object.assign({},e,{key:"layer-".concat(e.id)}))})),n.orbitControls?o.a.createElement(M.a,{makeDefault:!0}):null,o.a.createElement(L,null),o.a.createElement(B,null),o.a.createElement(F,null)))))}n(134);var T=function(e){var t=function(e,t){e.addEventListener("mouseover",function(e){var n=document.getElementsByClassName(t);Array.from(n).forEach(function(e){e.style.setProperty("background","var(--font-color)"),e.style.setProperty("color","var(--background)")})},!1),e.addEventListener("mouseout",function(e){var n=document.getElementsByClassName(t);Array.from(n).forEach(function(e){e.style.setProperty("background","var(--background)"),e.style.setProperty("color","var(--font-color)")})},!1)};Object(a.useEffect)(function(){var e=document.getElementsByClassName("section1");Array.from(e).forEach(function(e){return t(e,"section1")}),e=document.getElementsByClassName("section2"),Array.from(e).forEach(function(e){return t(e,"section2")}),e=document.getElementsByClassName("section30"),Array.from(e).forEach(function(e){return t(e,"section30")}),e=document.getElementsByClassName("section31"),Array.from(e).forEach(function(e){return t(e,"section31")}),e=document.getElementsByClassName("section33"),Array.from(e).forEach(function(e){return t(e,"section33")}),e=document.getElementsByClassName("section34"),Array.from(e).forEach(function(e){return t(e,"section34")})},[]);var n=e.blockSize1,r=e.blockSize2;return o.a.createElement(o.a.Fragment,null,o.a.createElement("section",{id:"information",className:"block-info",style:{bottom:n.top,left:n.left,width:n.width,height:n.height,overflowY:"scroll",padding:"0 0"}},o.a.createElement("div",{className:"sub-block section1 text"},o.a.createElement("h1",null,"SECTION I : Gallery"),o.a.createElement("p",null,"Pick the source image by using the arrows"),o.a.createElement("p",null,"You can zoom in/out and rotate the source image.")),o.a.createElement("div",{className:"sub-block section2 text"},o.a.createElement("h1",null,"SECTION II : Mask editor"),o.a.createElement("p",null,"Enable controls by pressing on the ",o.a.createElement("b",null,"| mask |")," button."),o.a.createElement("p",null,"Generate a chromatic mask from the source image."),o.a.createElement("h2",null,"HOW>"),o.a.createElement("p",null,"Pick a color."),o.a.createElement("p",null,"All pixels whose color values are within the threshold number will be seen as red, which later will become the mask."),o.a.createElement("p",null,"The smoothness parameter will control the edges.")),o.a.createElement("div",{className:"sub-block section30 text no-border"},o.a.createElement("h1",null,"SECTION III: Layers editor"),o.a.createElement("p",null,"Enable controls by pressing on the ",o.a.createElement("b",null,"| layer |")," button."),o.a.createElement("p",null,o.a.createElement("b",null,"button |+|")," Add the layer, translate it and rotate it with the pivot controls."),o.a.createElement("p",null,"Change the output color, and you con ",o.a.createElement("b",null,"mix")," it with original source")),o.a.createElement("div",{className:"sub-block section31 text no-border"},o.a.createElement("p",null," Combine using ",o.a.createElement("b",null,"| mask |")," + ",o.a.createElement("b",null,"| layer |")," buttons to add multiple layers")),o.a.createElement("div",{className:"sub-block section33 text no-border"},o.a.createElement("p",null," Enable orbit controls with ",o.a.createElement("b",null," | 3D |")," button. "),o.a.createElement("p",null," Toggle to screen mode with ",o.a.createElement("b",null," | 2D |")," button. "),o.a.createElement("p",null," Reset camera position with ",o.a.createElement("b",null," | R |")," button. ")),o.a.createElement("div",{className:"sub-block section34 text no-border"},o.a.createElement("p",null," Try your design in dark mode"))),o.a.createElement("section",{id:"demo",className:"block-info",style:{bottom:r.top,left:r.left,width:r.width,height:r.height,overflowY:"scroll",padding:"0 0"}},o.a.createElement("div",{className:"sub-block section1"},o.a.createElement("video",{autoPlay:!0,controls:!1,src:"./section1.mp4"})),o.a.createElement("div",{className:"sub-block section2"},o.a.createElement("video",{autoPlay:!0,controls:!1,src:"./section2.mp4"})),o.a.createElement("div",{className:"sub-block section30 no-border"},o.a.createElement("video",{autoPlay:!0,controls:!1,src:"./section30.mp4"})),o.a.createElement("div",{className:"sub-block section31 no-border"},o.a.createElement("video",{autoPlay:!0,controls:!1,src:"./section31.mp4"}),o.a.createElement("video",{autoPlay:!0,controls:!1,src:"./section32.mp4"})),o.a.createElement("div",{className:"sub-block section33 no-border"},o.a.createElement("video",{autoPlay:!0,controls:!1,src:"./section33.mp4"})),o.a.createElement("div",{className:"sub-block section34"},o.a.createElement("video",{autoPlay:!0,controls:!1,src:"./section34.mp4"}))))};var U=function(){var e=Object(a.useState)(window.innerWidth),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(window.innerHeight),i=Object(l.a)(c,2),s=i[0],u=i[1],m=b(function(e){return e.loaded}),d=b(function(e){return e.selected.path}),f=h(function(e){return e.show});return Object(a.useEffect)(function(){},[m,d]),Object(a.useEffect)(function(){var e=function(){r(window.innerWidth),u(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{size:{left:0,top:0,width:n/2*(1/3),height:s},className:"block"}),f?o.a.createElement(o.a.Fragment,null,o.a.createElement(C,{size:{left:n/2*1/3,top:0,width:n/2*(2/3),height:s},className:"block"}),o.a.createElement(z,{size:{left:n/2,top:0,width:n/2,height:s},className:"block"})):o.a.createElement(T,{blockSize1:{left:n/2*1/3,top:0,width:n/2*(2/3),height:s},blockSize2:{left:n/2,top:0,width:n/2,height:s}}))},A=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,138)).then(function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(U,null))),A()}]),[[42,3,2]]]);
//# sourceMappingURL=main.fb6a3648.chunk.js.map